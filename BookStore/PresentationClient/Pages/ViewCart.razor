@page "/viewcart"
@using Persistence.DTO.Product

<PageTitle>View Cart</PageTitle>

<NavMenu />

<div class="content">
	<main>
		<div class="title">
			<h2>Cosul meu</h2>
		</div>
		@if (!_isDataLoaded)
		{
			@for (int i = 0; i < 5; ++i)
			{
				<ProductDummy />
			}

		}
		else
		{
			@foreach (var prod in Products)
			{
				<ProductCart Product="@prod" RefreshView="@RefreshView"/>
			}
		}

	</main>
	<aside>
		<div>
			<h2>Sumar comanda</h2>
			<p>Cost produse: @ProductsTotalPrice Lei</p>
			<p>Cost transport: @_deliveryFee Lei</p>
		</div>
		<div>
			<h2>
				Total:<br />@TotalPrice Lei
			</h2>
			@if (!_cartEmpty)
			{
				<a href="/bill"><button>Continua</button></a>
			}else
			{
				<button class="btn-diabled">Continua</button>
			}
		</div>
	</aside>
</div>